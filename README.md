# Vue Rspack CLI

<p align="center">
  <img src="https://your-logo-url-here.png" alt="Vue Rspack CLI Logo" width="120">
</p>

<p align="center">
  ä¸€ä¸ªè½»é‡çº§çš„è„šæ‰‹æ¶å·¥å…·ï¼Œå¸®åŠ©ä½ å¿«é€Ÿåˆ›å»ºåŸºäºVue 2å’ŒRspackçš„é¡¹ç›®
</p>

<p align="center">
  <a href="#å®‰è£…">å®‰è£…</a> â€¢
  <a href="#å¿«é€Ÿå¼€å§‹">å¿«é€Ÿå¼€å§‹</a> â€¢
  <a href="#åŠŸèƒ½ç‰¹æ€§">åŠŸèƒ½ç‰¹æ€§</a> â€¢
  <a href="#å‘½ä»¤å‚è€ƒ">å‘½ä»¤å‚è€ƒ</a> â€¢
  <a href="#é…ç½®é€‰é¡¹">é…ç½®é€‰é¡¹</a> â€¢
  <a href="#æ¨¡æ¿è¯´æ˜">æ¨¡æ¿è¯´æ˜</a> â€¢
  <a href="#ä»webpackè¿ç§»">ä»Webpackè¿ç§»</a> â€¢
  <a href="#å¸¸è§é—®é¢˜">å¸¸è§é—®é¢˜</a>
</p>

## ç®€ä»‹

Vue Rspack CLI æ˜¯ä¸€ä¸ªä¸“ä¸ºVue 2é¡¹ç›®è®¾è®¡çš„ç°ä»£åŒ–è„šæ‰‹æ¶å·¥å…·ï¼Œä½¿ç”¨Rspackæ›¿ä»£Webpackä½œä¸ºæ„å»ºå·¥å…·ï¼Œæä¾›äº†æ˜¾è‘—çš„æ„å»ºæ€§èƒ½æå‡ã€‚å®ƒå…è®¸ä½ é€šè¿‡ç®€å•çš„äº¤äº’å¼å‘½ä»¤è¡Œç•Œé¢åˆ›å»ºã€é…ç½®å’Œç®¡ç†Vueé¡¹ç›®ï¼ŒåŒæ—¶ä¿æŒäº†ä¸Vue CLIç›¸ä¼¼çš„ç”¨æˆ·ä½“éªŒã€‚

<p align="center">
  <img src="https://your-screenshot-url-here.png" alt="CLI Screenshot" width="600">
</p>

### ä¸ºä»€ä¹ˆé€‰æ‹©Rspackï¼Ÿ

Rspackæ˜¯ä¸€ä¸ªåŸºäºRustçš„é«˜æ€§èƒ½JavaScriptæ‰“åŒ…å·¥å…·ï¼Œä¸Webpack APIå…¼å®¹ï¼Œä½†é€Ÿåº¦å¤§å¹…æå‡ï¼š

- **æ„å»ºé€Ÿåº¦æå‡70%+**ï¼šé¦–æ¬¡æ„å»ºå’Œçƒ­æ›´æ–°éƒ½æœ‰æ˜¾è‘—åŠ é€Ÿ
- **å†…å­˜å ç”¨å‡å°‘çº¦40%**ï¼šæ›´é«˜æ•ˆçš„èµ„æºåˆ©ç”¨
- **å…¼å®¹Webpackç”Ÿæ€**ï¼šå¤§éƒ¨åˆ†Webpack loaderå’Œæ’ä»¶å¯ç›´æ¥ä½¿ç”¨
- **ç®€åŒ–é…ç½®**ï¼šå†…ç½®äº†å¾ˆå¤šä¼˜åŒ–ï¼Œé…ç½®æ›´ç®€å•

## å®‰è£…

### å…¨å±€å®‰è£…ï¼ˆæ¨èï¼‰

```bash
npm install -g vue-rspack-cli
```

### ä½¿ç”¨npxï¼ˆæ— éœ€å®‰è£…ï¼‰

```bash
npx vue-rspack-cli create my-project
```

## å¿«é€Ÿå¼€å§‹

### åˆ›å»ºæ–°é¡¹ç›®

```bash
# ä½¿ç”¨äº¤äº’å¼é—®ç­”åˆ›å»ºé¡¹ç›®
vue-rspack create my-project

# æˆ–ä½¿ç”¨é»˜è®¤é…ç½®å¿«é€Ÿåˆ›å»º
vue-rspack create my-project --default
```

### é¡¹ç›®å¯åŠ¨

```bash
cd my-project
npm run dev
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

## åŠŸèƒ½ç‰¹æ€§

- âœ¨ **äº¤äº’å¼é¡¹ç›®åˆ›å»º**ï¼šé€šè¿‡é—®ç­”å½¢å¼é€‰æ‹©é¡¹ç›®åŠŸèƒ½å’Œé…ç½®
- ğŸš€ **æé€Ÿå¼€å‘ä½“éªŒ**ï¼šåŸºäºRspackçš„å¿«é€Ÿæ„å»ºå’Œçƒ­æ›´æ–°
- ğŸ“¦ **é›¶é…ç½®å¼€å‘**ï¼šé¢„è®¾åˆç†çš„é»˜è®¤é…ç½®ï¼Œå¼€ç®±å³ç”¨
- ğŸ”Œ **å¯é€‰åŠŸèƒ½**ï¼šTypeScriptã€Vue Routerã€Vuexç­‰
- ğŸ¨ **CSSé¢„å¤„ç†å™¨**ï¼šæ”¯æŒSassã€Lessã€Stylus
- ğŸ”§ **ä»£ç è´¨é‡å·¥å…·**ï¼šå¯é€‰ESLintã€Prettieré›†æˆ
- ğŸ§ª **æµ‹è¯•æ”¯æŒ**ï¼šå¯é›†æˆJestã€Cypressè¿›è¡Œå•å…ƒæµ‹è¯•å’ŒE2Eæµ‹è¯•
- ğŸ“‹ **é¡¹ç›®é¢„è®¾**ï¼šæ”¯æŒä¿å­˜å’Œé‡ç”¨é¡¹ç›®é…ç½®

## å‘½ä»¤å‚è€ƒ

### `vue-rspack create <project-name>`

åˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®

| é€‰é¡¹ | æè¿° |
|------|------|
| `--force`, `-f` | è¦†ç›–ç›®æ ‡ç›®å½•ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ |
| `--template <template-name>` | æŒ‡å®šä½¿ç”¨çš„é¡¹ç›®æ¨¡æ¿ |
| `--default` | ä½¿ç”¨é»˜è®¤é¢„è®¾ï¼Œè·³è¿‡é—®ç­”ç¯èŠ‚ |
| `--preset <preset-name>` | ä½¿ç”¨ä¿å­˜çš„é¢„è®¾åˆ›å»ºé¡¹ç›® |
| `--skip-git` | è·³è¿‡gitåˆå§‹åŒ– |
| `--no-install` | è·³è¿‡ä¾èµ–å®‰è£… |

### `vue-rspack info`

æ‰“å°ç¯å¢ƒè°ƒè¯•ä¿¡æ¯

```bash
vue-rspack info
```

### `vue-rspack list`

åˆ—å‡ºå¯ç”¨çš„é¡¹ç›®æ¨¡æ¿

```bash
vue-rspack list
```

## é…ç½®é€‰é¡¹

åˆ›å»ºé¡¹ç›®æ—¶ï¼ŒCLIä¼šè¯¢é—®ä½ ä¸€ç³»åˆ—é—®é¢˜æ¥é…ç½®é¡¹ç›®ã€‚ä»¥ä¸‹æ˜¯å¯ç”¨çš„é…ç½®é€‰é¡¹ï¼š

### é¡¹ç›®åŸºæœ¬ä¿¡æ¯

- **é¡¹ç›®åç§°**ï¼šé¡¹ç›®ç›®å½•åç§°å’Œpackage.jsonä¸­çš„nameå­—æ®µ
- **é¡¹ç›®æè¿°**ï¼šé¡¹ç›®çš„ç®€çŸ­æè¿°
- **ä½œè€…**ï¼šé¡¹ç›®ä½œè€…ä¿¡æ¯

### å¯é€‰åŠŸèƒ½

åœ¨åˆ›å»ºè¿‡ç¨‹ä¸­ï¼Œä½ å¯ä»¥é€‰æ‹©ä»¥ä¸‹åŠŸèƒ½ï¼š

| åŠŸèƒ½ | æè¿° |
|------|------|
| **Babel** | æ·»åŠ Babelæ”¯æŒï¼ˆé€šè¿‡SWCå®ç°ï¼Œæ€§èƒ½æ›´ä½³ï¼‰ |
| **TypeScript** | æ·»åŠ TypeScriptæ”¯æŒ |
| **Router** | æ·»åŠ Vue RouteråŠå…¶åŸºæœ¬é…ç½® |
| **Vuex** | æ·»åŠ VuexçŠ¶æ€ç®¡ç† |
| **CSSé¢„å¤„ç†å™¨** | é€‰æ‹©SASSã€LESSæˆ–Stylus |
| **Linter / Formatter** | æ·»åŠ ESLintå’ŒPrettier |
| **Unitæµ‹è¯•** | æ·»åŠ Jestå•å…ƒæµ‹è¯•é…ç½® |
| **E2Eæµ‹è¯•** | æ·»åŠ Cypress E2Eæµ‹è¯•é…ç½® |

## é¡¹ç›®ç»“æ„

ä½¿ç”¨æ­¤CLIåˆ›å»ºçš„é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š

```
my-project/
â”œâ”€â”€ public/                 # é™æ€èµ„æºç›®å½•
â”‚   â”œâ”€â”€ favicon.ico         # ç½‘ç«™å›¾æ ‡
â”‚   â””â”€â”€ index.html          # HTMLæ¨¡æ¿
â”œâ”€â”€ src/                    # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ assets/             # é¡¹ç›®èµ„æºæ–‡ä»¶
â”‚   â”œâ”€â”€ components/         # Vueç»„ä»¶
â”‚   â”œâ”€â”€ views/              # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ App.vue             # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.js             # å…¥å£æ–‡ä»¶
â”œâ”€â”€ .eslintrc.js            # ESLinté…ç½®
â”œâ”€â”€ .gitignore              # Gitå¿½ç•¥é…ç½®
â”œâ”€â”€ package.json            # ä¾èµ–å’Œè„šæœ¬
â”œâ”€â”€ README.md               # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â””â”€â”€ rspack.config.js        # Rspacké…ç½®
```

å¦‚æœé€‰æ‹©äº†é¢å¤–åŠŸèƒ½ï¼Œå¯èƒ½è¿˜ä¼šæœ‰ï¼š

```
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ router/             # Vue Routeré…ç½®
â”‚   â”œâ”€â”€ store/              # Vuexé…ç½®
â”‚   â””â”€â”€ types/              # TypeScriptç±»å‹å®šä¹‰
â”œâ”€â”€ tests/                  # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ tsconfig.json           # TypeScripté…ç½®
â””â”€â”€ cypress.json            # Cypressé…ç½®
```

## æ¨¡æ¿è¯´æ˜

### é»˜è®¤æ¨¡æ¿ï¼ˆvue-rspackï¼‰

åŸºäºVue 2.6çš„æ ‡å‡†æ¨¡æ¿ï¼Œä½¿ç”¨Rspackä½œä¸ºæ„å»ºå·¥å…·ï¼ŒåŒ…å«ï¼š

- Vue 2.6
- RspackåŸºç¡€é…ç½®
- SWCè¿›è¡ŒJavaScriptè½¬è¯‘
- çƒ­æ›´æ–°å¼€å‘æœåŠ¡å™¨
- èµ„æºå¤„ç†ï¼ˆå›¾ç‰‡ã€å­—ä½“ç­‰ï¼‰
- CSSå¤„ç†

### å…¶ä»–å¯ç”¨æ¨¡æ¿

å¯ä»¥é€šè¿‡`--template`é€‰é¡¹æŒ‡å®šä½¿ç”¨ä»¥ä¸‹å…¶ä»–æ¨¡æ¿ï¼š

- **vue-rspack-admin**ï¼šåŸºäºElement UIçš„ç®¡ç†åå°æ¨¡æ¿
- **vue-rspack-mobile**ï¼šç§»åŠ¨ç«¯é¡¹ç›®æ¨¡æ¿ï¼Œé›†æˆäº†vant

## ä»Webpackè¿ç§»

å¦‚æœä½ æƒ³å°†ç°æœ‰çš„åŸºäºWebpackçš„Vueé¡¹ç›®è¿ç§»åˆ°Rspackï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹æ­¥éª¤ï¼š

### 1. å®‰è£…Rspackç›¸å…³ä¾èµ–

```bash
npm uninstall webpack webpack-cli webpack-dev-server html-webpack-plugin
npm install @rspack/cli @rspack/core @rspack/plugin-html @rspack/plugin-vue2 -D
```

### 2. è½¬æ¢é…ç½®æ–‡ä»¶

å°†`webpack.config.js`é‡å‘½åä¸º`rspack.config.js`å¹¶è¿›è¡Œä»¥ä¸‹è°ƒæ•´ï¼š

```javascript
// Webpacké…ç½®
const HtmlWebpackPlugin = require('html-webpack-plugin');
const { VueLoaderPlugin } = require('vue-loader');

// è½¬æ¢ä¸ºRspacké…ç½®
const { HtmlRspackPlugin } = require('@rspack/plugin-html');
const { VueLoaderPlugin } = require('@rspack/plugin-vue2');
```

### 3. è°ƒæ•´Loaderé…ç½®

```javascript
// Webpackä¸­çš„babel-loader
{
  test: /\.js$/,
  use: 'babel-loader'
}

// Rspackä¸­ä½¿ç”¨å†…ç½®çš„swc-loader
{
  test: /\.js$/,
  use: {
    loader: 'builtin:swc-loader',
    options: {
      jsc: {
        parser: {
          syntax: 'ecmascript'
        },
        target: 'es2015'
      }
    }
  }
}
```

### 4. æ›´æ–°package.jsonè„šæœ¬

```diff
"scripts": {
-  "dev": "webpack serve",
-  "build": "webpack --mode=production"
+  "dev": "rspack serve",
+  "build": "rspack build"
}
```

### 5. æ€§èƒ½å¯¹æ¯”å‚è€ƒ

ä»¥ä¸‹æ˜¯ä¸­ç­‰è§„æ¨¡Vue 2é¡¹ç›®çš„æ€§èƒ½å¯¹æ¯”æ•°æ®ï¼š

| æŒ‡æ ‡ | Webpack 5 | Rspack | æå‡ |
|------|-----------|--------|------|
| é¦–æ¬¡æ„å»ºæ—¶é—´ | ~8.5s | ~2.3s | ~73% |
| çƒ­æ›´æ–°æ—¶é—´ | ~1.2s | ~0.3s | ~75% |
| ç”Ÿäº§æ„å»º | ~25s | ~7s | ~72% |
| å†…å­˜å ç”¨ | ~500MB | ~300MB | ~40% |

## è‡ªå®šä¹‰æ¨¡æ¿

ä½ å¯ä»¥åˆ›å»ºå’Œä½¿ç”¨è‡ªå·±çš„é¡¹ç›®æ¨¡æ¿ï¼š

1. åˆ›å»ºä¸€ä¸ªåä¸º`vue-rspack-template-[name]`çš„ä»“åº“
2. éµå¾ªä»¥ä¸‹ç»“æ„ï¼š
   ```
   template/     # åŒ…å«æ¨¡æ¿æ–‡ä»¶
   meta.js       # æ¨¡æ¿é…ç½®å’Œé’©å­å‡½æ•°
   ```
3. ä½¿ç”¨è‡ªå®šä¹‰æ¨¡æ¿ï¼š
   ```bash
   vue-rspack create my-project --template username/repo
   ```

## å¸¸è§é—®é¢˜

### Rspackä¸Webpackçš„å…¼å®¹æ€§

**Q: æ‰€æœ‰Webpackæ’ä»¶å’Œloaderéƒ½èƒ½åœ¨Rspackä¸­å·¥ä½œå—ï¼Ÿ**

A: ä¸æ˜¯æ‰€æœ‰çš„ã€‚å¤§å¤šæ•°å¸¸è§loaderï¼ˆå¦‚css-loaderã€sass-loaderç­‰ï¼‰å¯ä»¥ç›´æ¥å·¥ä½œï¼Œä½†ä¸€äº›å¤æ‚çš„Webpackæ’ä»¶å¯èƒ½éœ€è¦æ‰¾æ›¿ä»£æ–¹æ¡ˆã€‚è¯¦è§[å…¼å®¹æ€§æ–‡æ¡£](https://www.rspack.dev/guide/migrate-from-webpack.html)ã€‚

### æ€§èƒ½é—®é¢˜

**Q: ä¸ºä»€ä¹ˆæˆ‘çš„é¡¹ç›®æ„å»ºé€Ÿåº¦æå‡ä¸æ˜æ˜¾ï¼Ÿ**

A: å¦‚æœä½ çš„é¡¹ç›®ä¾èµ–äº†å¤§é‡éœ€è¦è½¬è¯‘çš„ç¬¬ä¸‰æ–¹åº“ï¼Œæˆ–ä½¿ç”¨äº†å¤æ‚çš„Webpackæ’ä»¶ï¼Œå¯èƒ½ä¼šé™åˆ¶æ€§èƒ½æå‡ã€‚å°è¯•ä½¿ç”¨`--analyze`é€‰é¡¹æ£€æŸ¥æ„å»ºç“¶é¢ˆï¼š

```bash
npm run build:analyze
```

### å¼€å‘ä½“éªŒ

**Q: çƒ­æ›´æ–°ä¸å·¥ä½œæ€ä¹ˆåŠï¼Ÿ**

A: ç¡®ä¿ä½ çš„ç»„ä»¶å’Œä»£ç æ­£ç¡®å¯¼å‡ºï¼Œå¹¶ä¸”æ²¡æœ‰ä½¿ç”¨ä¸å…¼å®¹çš„åº“ã€‚ä½ ä¹Ÿå¯ä»¥å°è¯•åœ¨`rspack.config.js`ä¸­æ˜ç¡®å¯ç”¨çƒ­æ›´æ–°ï¼š

```javascript
module.exports = {
  // ...
  devServer: {
    hot: true
  }
}
```


## è´¡çŒ®æŒ‡å—

æ¬¢è¿ä¸ºVue Rspack CLIè´¡çŒ®ä»£ç ï¼è¯·å‚é˜…[è´¡çŒ®æŒ‡å—](CONTRIBUTING.md)äº†è§£å¦‚ä½•å‚ä¸é¡¹ç›®å¼€å‘ã€‚

## è®¸å¯è¯

[MIT](LICENSE)